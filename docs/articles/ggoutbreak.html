<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started with `ggoutbreak` • ggoutbreak</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with `ggoutbreak`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggoutbreak</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/ggoutbreak.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/covid-timeseries.html">England COVID-19 cases</a></li>
    <li><a class="dropdown-item" href="../articles/estimators-example.html">Simulation tests for growth rate estimators</a></li>
    <li><a class="dropdown-item" href="../articles/incidence-trends.html">Population comparisons and incidence</a></li>
    <li><a class="dropdown-item" href="../articles/infectivity-profile-discretisation.html">Infectivity profile discretisation</a></li>
    <li><a class="dropdown-item" href="../articles/right-censoring.html">Estimating the reproduction number from right censored data</a></li>
    <li><a class="dropdown-item" href="../articles/rt-from-incidence.html">Estimating the reproduction number from modelled incidence</a></li>
    <li><a class="dropdown-item" href="../articles/sampling-serial-interval.html">Sampling the infectivity profile from published serial interval estimates</a></li>
    <li><a class="dropdown-item" href="../articles/simulation-test-models.html">Simulations and test harnesses</a></li>
    <li><a class="dropdown-item" href="../articles/time-periods.html">Data wrangling and working with `ggoutbreak`</a></li>
    <li><a class="dropdown-item" href="../articles/variant-proportions.html">Multinomial proportions models for genomic variants</a></li>
    <li><a class="dropdown-item" href="../articles/weekly-incidence.html">Estimating the reproduction number from weekly data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ai4ci/ggoutbreak/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with `ggoutbreak`</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ai4ci/ggoutbreak/blob/HEAD/vignettes/ggoutbreak.Rmd" class="external-link"><code>vignettes/ggoutbreak.Rmd</code></a></small>
      <div class="d-none name"><code>ggoutbreak.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>A collection of tools from COVID-19 with focus on simplicity and a
goal to provide a simple pipeline from data to visualisation. The main
features are listed below. The documentation is in development. For the
time being the best resources are the other vignettes including:</p>
<ul>
<li><code><a href="../articles/covid-timeseries.html">vignette("covid-timeseries",package="ggoutbreak")</a></code></li>
<li><code><a href="../articles/incidence-trends.html">vignette("incidence-trends",package="ggoutbreak")</a></code></li>
<li><code><a href="../articles/variant-proportions.html">vignette("variant-proportions",package="ggoutbreak")</a></code></li>
<li><code><a href="../articles/weekly-incidence.html">vignette("weekly-incidence",package="ggoutbreak")</a></code></li>
<li>
<code><a href="../articles/rt-from-incidence.html">vignette("rt-from-incidence",package="ggoutbreak")</a></code>
<!-- -   `vignette("managing-an-outbreak",package="ggoutbreak")` -->
</li>
<li><code><a href="../articles/simulation-test-models.html">vignette("simulation-test-models",package="ggoutbreak")</a></code></li>
</ul>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p><code>ggoutbreak</code> is hosted on the <a href="https://ai4ci.r-universe.dev/" class="external-link">AI4CI r-universe</a>. Installation
from there is as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ai4ci"</span> <span class="op">=</span> <span class="st">'https://ai4ci.r-universe.dev/'</span>,</span>
<span>  CRAN <span class="op">=</span> <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download and install ggoutbreak in R</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggoutbreak"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of <code>ggoutbreak</code>
from <a href="https://github.com/ai4ci/ggoutbreak" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ai4ci/ggoutbreak"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h3>
<p>Simulation</p>
<ul>
<li>Poisson (aggregate count) &amp; branching process (line list)</li>
<li>Time varying parametrisations</li>
<li>Test harness for estimators, including scoring metrics.</li>
</ul>
<p>Estimation</p>
<ul>
<li>Collection of methods for incidence, growth rate, reproduction
number (and wrappers for existing tools)</li>
<li>Poisson count and binomial/multinomial proportion models</li>
</ul>
<p>Visualization</p>
<ul>
<li>Default <code>ggplot2</code> visualisations of epidemic time series,
including adjustment for population and variable time steps.</li>
</ul>
<div class="float">
<img src="pipeline-map.svg" alt="Pipeline functions"><div class="figcaption">Pipeline functions</div>
</div>
</div>
<div class="section level2">
<h2 id="simulation">Simulation<a class="anchor" aria-label="anchor" href="#simulation"></a>
</h2>
<div class="section level3">
<h3 id="models">Models:<a class="anchor" aria-label="anchor" href="#models"></a>
</h3>
<ul>
<li>Poisson growth rate (count model)</li>
<li>Poisson reproduction number (count model)</li>
<li>Branching process model (individual model)</li>
<li>SEIR ODE (compartment model)</li>
</ul>
</div>
<div class="section level3">
<h3 id="time-varying-parameters">Time varying parameters:<a class="anchor" aria-label="anchor" href="#time-varying-parameters"></a>
</h3>
<ul>
<li>Rt / growth rate / transmission</li>
<li>Importation</li>
<li>Generation time</li>
<li>Ascertainment</li>
<li>Delay to observation, e.g. symptoms, admissions, death</li>
<li>Contact matrices</li>
<li>Dispersion</li>
</ul>
</div>
<div class="section level3">
<h3 id="scoring">Scoring<a class="anchor" aria-label="anchor" href="#scoring"></a>
</h3>
<ul>
<li>
<code>mean_quantile_bias</code> - the average of the universal
residuals. Lower values are better.</li>
<li>
<code>mean_bias</code> - the bias on the natural scale (which may be
interpreted as additive or multiplicative depending on the link)</li>
<li>
<code>pit_was</code> - an unadjusted probability integral transform
histogram Wasserstein distance from the uniform (lower values are
better).</li>
<li>
<code>unbiased_pit_was</code> - an PIT Wasserstein distance from the
uniform, adjusted for estimator bias (lower values are better). This is
a measure of calibration.</li>
<li>
<code>directed_pit_was</code> - a PIT Wasserstein distance from the
uniform, directed away from the centre, adjusted for estimator bias
(values closer to zero are better, positive values indicate
overconfidence, and negative values excessively conservative
estimates).</li>
<li>
<code>percent_iqr_coverage</code> - the percentage of estimators
that include the true value in their IQR. For a perfectly calibrated
estimate this should be 0.5. Lower values reflect overconfidence, higher
values reflect excessively conservative estimates. This is a measure of
calibration but is influenced by bias.</li>
<li>
<code>unbiased_percent_iqr_coverage</code> - the percentage of
estimators that include the true value in their IQR once adjusted for
bias. This should be 0.5. This is a measure of calibration, and tells
you which direction (smaller numbers are over-confident, larger values
excessively conservative).</li>
<li>
<code>mean_prediction_interval_width_50</code> - the prediction
interval width is a measure of sharpness (smaller values are sharper).
Sharper estimators are superior if they are unbiased and well
calibrated.</li>
<li>
<code>mean_crps</code> - the mean value of the continuous rank
probability score for each point estimate (lower values are better)</li>
<li>
<code>threshold_misclassification_probability</code> - if a metric
has a natural threshold like 1 for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>t</mi></msub><annotation encoding="application/x-tex">R_t</annotation></semantics></math>
then this measures how probable it is that the estimate will propose the
epidemic is shrinking when it is growing and vice versa. Lower is
better.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="estimation-methods">Estimation methods<a class="anchor" aria-label="anchor" href="#estimation-methods"></a>
</h2>
<ul>
<li>Rapid simple estimates.</li>
<li>All methods can operate over multiple sub-group time series.</li>
<li>Supports daily / weekly / monthly / yearly time series*</li>
<li>Testing estimators against simulations.</li>
</ul>
<div class="section level3">
<h3 id="infectivity-profile-estimation">Infectivity profile estimation<a class="anchor" aria-label="anchor" href="#infectivity-profile-estimation"></a>
</h3>
<ul>
<li>Estimation of generation time or serial interval from published
estimates (including uncertainty)</li>
<li>Resampled from raw interval data (with bootstrapping for
uncertainty) from posterior estimates of a fitted gamma
distribution</li>
</ul>
</div>
<div class="section level3">
<h3 id="poisson-rate-models">Poisson rate models<a class="anchor" aria-label="anchor" href="#poisson-rate-models"></a>
</h3>
<ul>
<li>Locfit or GLM fitted time varying quasipoisson model.</li>
<li>GAM models including adjustment for right censoring.</li>
<li>Estimates incidence and growth rate</li>
<li>Normalisation per capita population or to population baseline
rate</li>
</ul>
</div>
<div class="section level3">
<h3 id="binomial-proportion-models">Binomial proportion models<a class="anchor" aria-label="anchor" href="#binomial-proportion-models"></a>
</h3>
<ul>
<li>Locfit or GLM fitted time varying quasibinomial model.</li>
<li>Estimates proportion and relative growth rate</li>
<li>Normalisation against population baseline risk</li>
</ul>
</div>
<div class="section level3">
<h3 id="multinomial-proportion-models">Multinomial proportion models<a class="anchor" aria-label="anchor" href="#multinomial-proportion-models"></a>
</h3>
<ul>
<li>
<code>nnet</code> based multinomial proportion models.</li>
</ul>
</div>
<div class="section level3">
<h3 id="r_t-estimation-methods">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>t</mi></msub><annotation encoding="application/x-tex">R_t</annotation></semantics></math>
estimation methods:<a class="anchor" aria-label="anchor" href="#r_t-estimation-methods"></a>
</h3>
<div class="section level4">
<h4 id="epiestim-wrapper">EpiEstim wrapper<a class="anchor" aria-label="anchor" href="#epiestim-wrapper"></a>
</h4>
<p>Simple adaptor for EpiEstim reference method</p>
</div>
<div class="section level4">
<h4 id="reimplementation-of-cori-method">Reimplementation of Cori method<a class="anchor" aria-label="anchor" href="#reimplementation-of-cori-method"></a>
</h4>
<ul>
<li>Inputs raw incidence time series</li>
<li>Reimplementation integrates estimates from a range of time
windows</li>
<li>Handles missing data.</li>
<li>Less lag and more uncertainty.</li>
</ul>
</div>
<div class="section level4">
<h4 id="wallinga-and-lipsitch-growth-rates-method">Wallinga and Lipsitch growth rates method<a class="anchor" aria-label="anchor" href="#wallinga-and-lipsitch-growth-rates-method"></a>
</h4>
<ul>
<li>Inputs an exponential growth rate time series estimate (assumed
normally distributed)</li>
<li>Uses MGF of discrete SI distribution</li>
<li>Monte-Carlo resampling for propagation of uncertainty</li>
<li>Moderately slow</li>
</ul>
</div>
<div class="section level4">
<h4 id="r_t-from-modelled-incidence">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>t</mi></msub><annotation encoding="application/x-tex">R_t</annotation></semantics></math>
from modelled incidence<a class="anchor" aria-label="anchor" href="#r_t-from-modelled-incidence"></a>
</h4>
<ul>
<li>Inputs a log-normally distributed incidence estimate.</li>
<li>Propagates uncertainty in infectivity profile and incidence
data</li>
<li>Deterministic &amp; tolerant of missing values.</li>
<li>Can use incidence model derived from weekly count time series.</li>
<li>Can deal with negative values in serial interval</li>
</ul>
</div>
<div class="section level4">
<h4 id="bootstrapped-renewal-eqaution">Bootstrapped renewal eqaution<a class="anchor" aria-label="anchor" href="#bootstrapped-renewal-eqaution"></a>
</h4>
<ul>
<li>Inputs distributional for of incidence estimate.</li>
<li>Uses resampling to propagate uncertainty in incidence and
infectivity profile</li>
<li>Non deterministic, can use weekly time-series</li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
