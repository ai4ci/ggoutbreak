<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Places a set of dates within a regular time series — cut_date • ggoutbreak</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Places a set of dates within a regular time series — cut_date"><meta name="description" content="The counterpart to date_seq_dates(). Take an original set of data and place
it within a regular time series where the periodicity of the time series may
be expressed as numbers of days, weeks, months quarters, or years, and the
periods are defined by an anchoring date, day of the week or by reference to
the start or end of the input dates. This can either return the periods as
dates or factors (e.g. for plotting) or as a time_period for analysis that
relies on a numeric representation of the date or duration from the anchor."><meta property="og:description" content="The counterpart to date_seq_dates(). Take an original set of data and place
it within a regular time series where the periodicity of the time series may
be expressed as numbers of days, weeks, months quarters, or years, and the
periods are defined by an anchoring date, day of the week or by reference to
the start or end of the input dates. This can either return the periods as
dates or factors (e.g. for plotting) or as a time_period for analysis that
relies on a numeric representation of the date or duration from the anchor."><meta property="og:image" content="https://ai4ci.github.io/ggoutbreak/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggoutbreak</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/covid-timeseries.html">England COVID-19 cases</a></li>
    <li><a class="dropdown-item" href="../articles/estimators-example.html">Simulation tests for growth rate estimators</a></li>
    <li><a class="dropdown-item" href="../articles/incidence-trends.html">Population comparisons and incidence</a></li>
    <li><a class="dropdown-item" href="../articles/infectivity-profile-discretisation.html">Infectivity profile discretisation</a></li>
    <li><a class="dropdown-item" href="../articles/rt-from-incidence.html">Estimating the reproduction number from modelled incidence</a></li>
    <li><a class="dropdown-item" href="../articles/sampling-serial-interval.html">Sampling the infectivity profile from published serial interval estimates</a></li>
    <li><a class="dropdown-item" href="../articles/simulation-test-models.html">Simulations and test harnesses</a></li>
    <li><a class="dropdown-item" href="../articles/time-periods.html">Data wrangling and working with `ggoutbreak`</a></li>
    <li><a class="dropdown-item" href="../articles/time-units.html">Estimating the reproduction number from weekly data</a></li>
    <li><a class="dropdown-item" href="../articles/variant-proportions.html">Multinomial proportions models for genomic variants</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ai4ci/ggoutbreak/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Places a set of dates within a regular time series</h1>
      <small class="dont-index">Source: <a href="https://github.com/ai4ci/ggoutbreak/blob/HEAD/R/periodic-times.R" class="external-link"><code>R/periodic-times.R</code></a></small>
      <div class="d-none name"><code>cut_date.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The counterpart to date_seq_dates(). Take an original set of data and place
it within a regular time series where the periodicity of the time series may
be expressed as numbers of days, weeks, months quarters, or years, and the
periods are defined by an anchoring date, day of the week or by reference to
the start or end of the input dates. This can either return the periods as
dates or factors (e.g. for plotting) or as a <code>time_period</code> for analysis that
relies on a numeric representation of the date or duration from the anchor.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cut_date</span><span class="op">(</span></span>
<span>  <span class="va">dates</span>,</span>
<span>  <span class="va">unit</span>,</span>
<span>  anchor <span class="op">=</span> <span class="st">"start"</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"date"</span>, <span class="st">"factor"</span>, <span class="st">"time_period"</span><span class="op">)</span>,</span>
<span>  dfmt <span class="op">=</span> <span class="st">"%d/%b/%y"</span>,</span>
<span>  ifmt <span class="op">=</span> <span class="st">"{start} — {end}"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dates">dates<a class="anchor" aria-label="anchor" href="#arg-dates"></a></dt>
<dd><p>a set of dates</p></dd>


<dt id="arg-unit">unit<a class="anchor" aria-label="anchor" href="#arg-unit"></a></dt>
<dd><p>a period e.g. "1 week"</p></dd>


<dt id="arg-anchor">anchor<a class="anchor" aria-label="anchor" href="#arg-anchor"></a></dt>
<dd><p>one of a date, "start" or "end" or a weekday name e.g. "mon"
this will always be one of the start of the time periods we are cutting
into</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>return the result as either a "date" (the default), an ordered
"factor" with the date ranges as a label, or as a "time_period". The result is
named with labels referring to the</p></dd>


<dt id="arg-dfmt">dfmt<a class="anchor" aria-label="anchor" href="#arg-dfmt"></a></dt>
<dd><p>the <code>strptime</code> format for the dates in the labels</p></dd>


<dt id="arg-ifmt">ifmt<a class="anchor" aria-label="anchor" href="#arg-ifmt"></a></dt>
<dd><p>a <code>sprintf</code> format for the period label containing <code>%s</code> exactly twice.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>ignored</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a set of dates, times or a factor level, representing the start of
the period the date falls into, where the period is defined by the duration
and the anchor</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dates</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>,<span class="st">"2020-02-01"</span>,<span class="st">"2020-01-15"</span>,<span class="st">"2020-02-03"</span>,<span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fs</span> <span class="op">=</span> <span class="fu">ggoutbreak</span><span class="fu">::</span><span class="fu"><a href="date_seq.html">date_seq</a></span><span class="op">(</span><span class="va">dates</span>, <span class="st">"2 days"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dates</span> <span class="op">-</span> <span class="fu">cut_date</span><span class="op">(</span><span class="va">dates</span>, <span class="st">"2 days"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 01/Jan/20 — 02/Jan/20 31/Jan/20 — 01/Feb/20 15/Jan/20 — 16/Jan/20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     0                     1                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 02/Feb/20 — 03/Feb/20               Unknown </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     1                    NA </span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates</span>,unit<span class="op">=</span><span class="st">"2 days"</span>, output<span class="op">=</span><span class="st">"time_period"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> time unit: 2 days, origin: 2020-01-01 (a Wednesday)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  0 15  7 16 NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A weekly set of dates:</span></span></span>
<span class="r-in"><span><span class="va">dates2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,max<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">7</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># in this specific situation the final date is not truncated because the</span></span></span>
<span class="r-in"><span><span class="co"># input data is seen as an exact match for the whole output period.</span></span></span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates2</span>, <span class="st">"1 week"</span>, <span class="st">"sun"</span>, output<span class="op">=</span><span class="st">"factor"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30/Mar/25 — 05/Apr/25 02/Mar/25 — 08/Mar/25 02/Feb/25 — 08/Feb/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] 30/Mar/25 — 05/Apr/25 23/Feb/25 — 01/Mar/25 16/Mar/25 — 22/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 02/Feb/25 — 08/Feb/25 23/Feb/25 — 01/Mar/25 30/Mar/25 — 05/Apr/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] 16/Mar/25 — 22/Mar/25 30/Mar/25 — 05/Apr/25 06/Apr/25 — 12/Apr/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 23/Feb/25 — 01/Mar/25 30/Mar/25 — 05/Apr/25 02/Mar/25 — 08/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] 23/Feb/25 — 01/Mar/25 09/Mar/25 — 15/Mar/25 23/Mar/25 — 29/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] 02/Feb/25 — 08/Feb/25 06/Apr/25 — 12/Apr/25 02/Mar/25 — 08/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 30/Mar/25 — 05/Apr/25 02/Mar/25 — 08/Mar/25 23/Feb/25 — 01/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 30/Mar/25 — 05/Apr/25 23/Feb/25 — 01/Mar/25 30/Mar/25 — 05/Apr/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28] 23/Mar/25 — 29/Mar/25 23/Mar/25 — 29/Mar/25 16/Mar/25 — 22/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 16/Feb/25 — 22/Feb/25 06/Apr/25 — 12/Apr/25 23/Mar/25 — 29/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [34] 16/Feb/25 — 22/Feb/25 02/Feb/25 — 08/Feb/25 09/Mar/25 — 15/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 02/Mar/25 — 08/Mar/25 09/Mar/25 — 15/Mar/25 23/Feb/25 — 01/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [40] 16/Feb/25 — 22/Feb/25 23/Mar/25 — 29/Mar/25 16/Feb/25 — 22/Feb/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 06/Apr/25 — 12/Apr/25 02/Mar/25 — 08/Mar/25 06/Apr/25 — 12/Apr/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46] 16/Mar/25 — 22/Mar/25 23/Feb/25 — 01/Mar/25 16/Mar/25 — 22/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 06/Apr/25 — 12/Apr/25 09/Mar/25 — 15/Mar/25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Levels: 02/Feb/25 — 08/Feb/25 &lt; ... &lt; 13/Apr/25 — 19/Apr/25</span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates2</span>, dfmt <span class="op">=</span> <span class="st">"%d/%b"</span>, output<span class="op">=</span><span class="st">"factor"</span>, unit <span class="op">=</span> <span class="st">"2 weeks"</span>, anchor<span class="op">=</span><span class="st">"sun"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30/Mar — 12/Apr 02/Mar — 15/Mar 02/Feb — 15/Feb 30/Mar — 12/Apr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] 16/Feb — 01/Mar 16/Mar — 29/Mar 02/Feb — 15/Feb 16/Feb — 01/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 30/Mar — 12/Apr 16/Mar — 29/Mar 30/Mar — 12/Apr 30/Mar — 12/Apr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 16/Feb — 01/Mar 30/Mar — 12/Apr 02/Mar — 15/Mar 16/Feb — 01/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 02/Mar — 15/Mar 16/Mar — 29/Mar 02/Feb — 15/Feb 30/Mar — 12/Apr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] 02/Mar — 15/Mar 30/Mar — 12/Apr 02/Mar — 15/Mar 16/Feb — 01/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 30/Mar — 12/Apr 16/Feb — 01/Mar 30/Mar — 12/Apr 16/Mar — 29/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 16/Mar — 29/Mar 16/Mar — 29/Mar 16/Feb — 01/Mar 30/Mar — 12/Apr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33] 16/Mar — 29/Mar 16/Feb — 01/Mar 02/Feb — 15/Feb 02/Mar — 15/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 02/Mar — 15/Mar 02/Mar — 15/Mar 16/Feb — 01/Mar 16/Feb — 01/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41] 16/Mar — 29/Mar 16/Feb — 01/Mar 30/Mar — 12/Apr 02/Mar — 15/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [45] 30/Mar — 12/Apr 16/Mar — 29/Mar 16/Feb — 01/Mar 16/Mar — 29/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 30/Mar — 12/Apr 02/Mar — 15/Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Levels: 02/Feb — 15/Feb &lt; 16/Feb — 01/Mar &lt; ... &lt; 13/Apr — 26/Apr</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

