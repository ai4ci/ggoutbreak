<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Places a set of dates within a regular time series — cut_date • growthrates</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Places a set of dates within a regular time series — cut_date"><meta property="og:description" content="The counterpart to full_seq_dates(). Take an original set of data and place
it within a regular time series where the periodicity of the time series may
be expressed as numbers of days, weeks, months quarters, or years, and the
periods are defined by an anchoring date, day of the week or by reference to
the start or end of the input dates. This can either return the periods as
dates or factors (e.g. for plotting) or as a time_period for analysis that
relies on a numeric representation of the date or duration from the anchor."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">growthrates</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/estimators-example.html">estimators-example</a>
    </li>
    <li>
      <a href="../articles/variant-proportions.html">variant-proportions</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bristol-vaccine-centre/growthrates/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Places a set of dates within a regular time series</h1>
    <small class="dont-index">Source: <a href="https://github.com/bristol-vaccine-centre/growthrates/blob/HEAD/R/periodic-times.R" class="external-link"><code>R/periodic-times.R</code></a></small>
    <div class="hidden name"><code>cut_date.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The counterpart to full_seq_dates(). Take an original set of data and place
it within a regular time series where the periodicity of the time series may
be expressed as numbers of days, weeks, months quarters, or years, and the
periods are defined by an anchoring date, day of the week or by reference to
the start or end of the input dates. This can either return the periods as
dates or factors (e.g. for plotting) or as a <code>time_period</code> for analysis that
relies on a numeric representation of the date or duration from the anchor.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cut_date</span><span class="op">(</span></span>
<span>  <span class="va">dates</span>,</span>
<span>  <span class="va">unit</span>,</span>
<span>  anchor <span class="op">=</span> <span class="st">"start"</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"date"</span>, <span class="st">"factor"</span>, <span class="st">"time_period"</span><span class="op">)</span>,</span>
<span>  dfmt <span class="op">=</span> <span class="st">"%d/%b/%y"</span>,</span>
<span>  ifmt <span class="op">=</span> <span class="st">"%s — %s"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dates</dt>
<dd><p>a set of dates</p></dd>


<dt>unit</dt>
<dd><p>a period e.g. "1 week"</p></dd>


<dt>anchor</dt>
<dd><p>one of a date, "start" or "end" or a weekday name e.g. "mon"
this will always be one of the start of the time periods we are cutting
into</p></dd>


<dt>output</dt>
<dd><p>return the result as either a "date" (the default), an ordered
"factor" with the date ranges as a label, or as a "time_period". The result is
named with labels referring to the</p></dd>


<dt>dfmt</dt>
<dd><p>the <code>strptime</code> format for the dates in the labels</p></dd>


<dt>ifmt</dt>
<dd><p>a <code>sprintf</code> format for the period label containing <code>%s</code> exactly twice.</p></dd>


<dt>...</dt>
<dd><p>ignored</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a set of dates, times or a factor level, representing the start of
the period the date falls into, where the period is defined by the duration
and the anchor</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dates</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>,<span class="st">"2020-02-01"</span>,<span class="st">"2020-01-15"</span>,<span class="st">"2020-02-03"</span>,<span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fs</span> <span class="op">=</span> <span class="fu"><a href="full_seq.html">full_seq</a></span><span class="op">(</span><span class="va">dates</span>, <span class="st">"2 days"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in full_seq(as.numeric(x), period, tol):</span> `period` must be a number, not the string "2 days".</span>
<span class="r-in"><span><span class="va">dates</span> <span class="op">-</span> <span class="fu">cut_date</span><span class="op">(</span><span class="va">dates</span>, <span class="st">"2 days"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 01/Jan/20 — 02/Jan/20 31/Jan/20 — 01/Feb/20 15/Jan/20 — 16/Jan/20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     0                     1                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 02/Feb/20 — 03/Feb/20               Unknown </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     1                    NA </span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates</span>,unit<span class="op">=</span><span class="st">"2 days"</span>, output<span class="op">=</span><span class="st">"time_period"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> time unit: 2d 0H 0M 0S, origin: 2020-01-01 (a Wednesday)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  0 15  7 16 NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A weekly set of dates:</span></span></span>
<span class="r-in"><span><span class="va">dates2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span>,max<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">7</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># in this specific situation the final date is not truncated because the</span></span></span>
<span class="r-in"><span><span class="co"># input data is seen as an exact match for the whole output period.</span></span></span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates2</span>, <span class="st">"1 week"</span>, <span class="st">"sun"</span>, output<span class="op">=</span><span class="st">"factor"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 29/Oct/23 — 04/Nov/23 26/Nov/23 — 02/Dec/23 26/Nov/23 — 02/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] 22/Oct/23 — 28/Oct/23 19/Nov/23 — 25/Nov/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 08/Oct/23 — 14/Oct/23 19/Nov/23 — 25/Nov/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] 03/Dec/23 — 09/Dec/23 15/Oct/23 — 21/Oct/23 19/Nov/23 — 25/Nov/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 05/Nov/23 — 11/Nov/23 26/Nov/23 — 02/Dec/23 12/Nov/23 — 18/Nov/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] 19/Nov/23 — 25/Nov/23 15/Oct/23 — 21/Oct/23 26/Nov/23 — 02/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] 15/Oct/23 — 21/Oct/23 22/Oct/23 — 28/Oct/23 05/Nov/23 — 11/Nov/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 08/Oct/23 — 14/Oct/23 08/Oct/23 — 14/Oct/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 26/Nov/23 — 02/Dec/23 05/Nov/23 — 11/Nov/23 12/Nov/23 — 18/Nov/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28] 05/Nov/23 — 11/Nov/23 12/Nov/23 — 18/Nov/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 03/Dec/23 — 09/Dec/23 29/Oct/23 — 04/Nov/23 08/Oct/23 — 14/Oct/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [34] 03/Dec/23 — 09/Dec/23 15/Oct/23 — 21/Oct/23 01/Oct/23 — 07/Oct/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 01/Oct/23 — 07/Oct/23 03/Dec/23 — 09/Dec/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [40] 01/Oct/23 — 07/Oct/23 12/Nov/23 — 18/Nov/23 01/Oct/23 — 07/Oct/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 15/Oct/23 — 21/Oct/23 19/Nov/23 — 25/Nov/23 03/Dec/23 — 09/Dec/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46] 29/Oct/23 — 04/Nov/23 15/Oct/23 — 21/Oct/23 19/Nov/23 — 25/Nov/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 05/Nov/23 — 11/Nov/23 01/Oct/23 — 07/Oct/23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Levels: 01/Oct/23 — 07/Oct/23 &lt; ... &lt; 03/Dec/23 — 09/Dec/23</span>
<span class="r-in"><span><span class="fu">cut_date</span><span class="op">(</span><span class="va">dates2</span>, dfmt <span class="op">=</span> <span class="st">"%d/%b"</span>, output<span class="op">=</span><span class="st">"factor"</span>, unit <span class="op">=</span> <span class="st">"2 weeks"</span>, anchor<span class="op">=</span><span class="st">"sun"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 29/Oct — 11/Nov 26/Nov — 09/Dec 26/Nov — 09/Dec 15/Oct — 28/Oct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] 12/Nov — 25/Nov 26/Nov — 09/Dec 01/Oct — 14/Oct 12/Nov — 25/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 26/Nov — 09/Dec 26/Nov — 09/Dec 15/Oct — 28/Oct 12/Nov — 25/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 29/Oct — 11/Nov 26/Nov — 09/Dec 12/Nov — 25/Nov 12/Nov — 25/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 15/Oct — 28/Oct 26/Nov — 09/Dec 15/Oct — 28/Oct 15/Oct — 28/Oct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] 29/Oct — 11/Nov 01/Oct — 14/Oct 01/Oct — 14/Oct 26/Nov — 09/Dec</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 26/Nov — 09/Dec 29/Oct — 11/Nov 12/Nov — 25/Nov 29/Oct — 11/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 12/Nov — 25/Nov 26/Nov — 09/Dec 26/Nov — 09/Dec 29/Oct — 11/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33] 01/Oct — 14/Oct 26/Nov — 09/Dec 15/Oct — 28/Oct 01/Oct — 14/Oct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 01/Oct — 14/Oct 26/Nov — 09/Dec 26/Nov — 09/Dec 01/Oct — 14/Oct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41] 12/Nov — 25/Nov 01/Oct — 14/Oct 15/Oct — 28/Oct 12/Nov — 25/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [45] 26/Nov — 09/Dec 29/Oct — 11/Nov 15/Oct — 28/Oct 12/Nov — 25/Nov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 29/Oct — 11/Nov 01/Oct — 14/Oct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Levels: 01/Oct — 14/Oct &lt; 15/Oct — 28/Oct &lt; ... &lt; 10/Dec — 23/Dec</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

